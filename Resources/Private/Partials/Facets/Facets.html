{namespace s=Tx_Find_ViewHelpers}

<f:if condition="{results.components.facetset.facets}">
	<div class="facets">
		<h3 class="invisible">
			<f:translate key="Facets"/>
			<a href="#c{uid}-resultList">
				<f:translate key="Jump to results"/>
			</a>
		</h3>
		<f:for each="{facets}" as="facetInfo" key="facetKey">
			<f:alias map="{facetData: '{s:valueForKey(array:results.components.facetset.facets, key:facetInfo.id)}'}">
				<f:if condition="{f:count(subject:facetData.values)} > 0">
					<article class="facet facet-id-{facetInfo.id}{f:if(condition:facetInfo.type, then:' facet-type-{facetInfo.type}')}">
						<h1>
							<f:translate key="LLL:{settings.languageRootPath}locallang-facets.xml:facet.{facetInfo.id}" default="{facetInfo.id}"/>
						</h1>
						<f:if condition="{1:facetInfo.type} == {1:'histogram'}">
							<f:then>
								<f:render partial="Facets/Facet/Histogram" arguments="{_all}"/>
							</f:then>
							<f:else>
								<f:render partial="Facets/Facet/List" arguments="{_all}"/>
							</f:else>
						</f:if>
					</article>
				</f:if>

			</f:alias>
		</f:for>
	</div>
</f:if>